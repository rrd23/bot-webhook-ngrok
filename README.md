# Telegram Бот на Вебхуках с использованием Ngrok

Этот проект представляет собой Telegram бота, работающего на вебхуках с использованием Ngrok для создания безопасного туннеля. Бот разработан с использованием Python и библиотеки aiogram, а вся инфраструктура упакована в Docker-контейнеры для простоты развертывания и масштабирования.

## Особенности

- Использование вебхуков для мгновенного получения обновлений от Telegram API
- Автоматическое получение публичного URL через Ngrok API
- Докеризированное приложение для простоты развертывания
- Использование aiogram 3.x для асинхронной обработки сообщений
- Автоматический перезапуск бота при возникновении ошибок

## Предварительные требования

- Docker и Docker Compose
- Токен Telegram бота (получите его у [@BotFather](https://t.me/BotFather))
- Токен авторизации Ngrok (зарегистрируйтесь на [ngrok.com](https://ngrok.com))

## Установка и запуск

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/your-username/your-repo-name.git
   cd your-repo-name
   ```

2. Создайте файл `.env` в корневой директории проекта и добавьте следующие переменные:
   ```
   TELEGRAM_BOT_TOKEN=your_telegram_bot_token
   NGROK_AUTHTOKEN=your_ngrok_auth_token
   ```

3. Запустите приложение с помощью Docker Compose:
   ```
   docker-compose up --build
   ```

4. Бот теперь должен быть доступен и отвечать на команду `/start` в Telegram.

## Структура проекта

- `bot/` - директория с кодом бота
  - `bot.py` - основной файл бота
  - `requirements.txt` - зависимости Python
  - `Dockerfile` - инструкции для сборки Docker-образа бота
- `docker-compose.yml` - конфигурация Docker Compose
- `.env` - файл с переменными окружения (не включен в репозиторий)

## Как это работает

1. Ngrok создает безопасный туннель к локальному серверу бота.
2. Бот получает публичный URL Ngrok через API.
3. Бот устанавливает вебхук, используя полученный URL.
4. Telegram отправляет обновления на установленный вебхук.
5. Бот обрабатывает входящие сообщения и отвечает пользователям.

## Разработка

Для добавления новых команд или функциональности, отредактируйте файл `bot/bot.py`. После внесения изменений перезапустите контейнеры:

